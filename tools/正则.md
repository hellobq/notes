# 正则

## 正则作用：

用来匹配文本的一套规则。

## 形式
- 简化形式：/pattern/gi
- 调用构造函数：new RegExp('pattern', 'gi')

## 元字符

用来辅助正则匹配文本的特殊代码

- \d 匹配数字    \D 匹配非数字
- \w 匹配字母、数字、下划线   \W 匹配除了字母数字下划线
- \s 匹配空格、tab、换行符   \S 匹配除了空格、tab、换行符
- \b 匹配独立部分（未和字母、数字、下划线连接的部分） \B 非独立部分
- . 匹配除\n之外的任意字符
- ^ 匹配字符串的开始    $ 匹配字符串的结束（用在字符串首尾才有这个意思）

## 转义字符

在正则中本身就含有意义的字符，为了匹配字符串中的它们，所以需要在正则中转义。

需要转义的字符有: . * ? + ^ $ \ / - [ ] ( ) { } 

## 常用标识
- i 不区分大小写 
- g 全局匹配

## 量词
- ? 0或1个
- \+ 1个或多个
- \* 0个或多个
- {n, m}      至少n个最多m个
- {n}      匹配n个

## 范围词

使用[]规定匹配的字符范围

**注意**：
- 如果匹配的是有意义的字符，则需要转义。
  ``` js
  /* 匹配0-9或者[] */

  const str = '9[kd[89]'
  str.match(/[[]\d]/g)   // ["9", "[", "[", "8", "9", "]"]

  ```

- 在[]内的^具有"除了"的意思。
  ``` js
  // 匹配除了0-9和[]的字符

  const str = '9[kd[89]'
  str.match(/[^\[\]\d]/g)   // ["k", "d"]

  ```

## 子集

使多个字符作为一个整体来匹配。一个表达式中可以有多个子集。

``` js
// 固定字符的子集
const str1 = 'adcghabc0'
str1.match(/(abc)+/g)   // ["abc"]

// 固定字符的子集
const str = '9[kd[89]'
str.match(/([\d[]])+/g)  // ["9[", "[89]"]

```

## 或者: |

匹配多种情况，和[]有相似之处。也可配合子集使用，功能也十分强大。

``` js
const str = '9[kd[89]'
str.match(/k|9/g)    str.match(/[k9]/g)  // ["9", "k", "9"]
```

## 贪婪匹配

在整个表达式得到匹配的前提下，会尽可能多的匹配

``` js
const str = 'aabab'
str.match(/a.*b/g)  // ['aabab']
```

## 懒惰匹配

在整个表达式得到匹配的前提下，尽量少匹配。实现的方式就是在贪婪匹配的量词后加 ?

``` js
str.match(/a.*?b/)   // ['aab', 'ab']

```

## 断言

为正则匹配提供条件，当断言为真时，才会去匹配。用于查找在某些内容之前或之后的文本。

- (?=pattern) 查找目标文本后面的字符要符合pattern模式
- (?!=pattern) 查找目标文本后面的字符不能符合pattern模式
- (?<=pattern) 查找目标文本前面的字符要符合pattern模式
- (?<!pattern) 查找目标文本前面的字符不能符合pattern模式

``` js
/* 提取src */

const str = `<img src="/static/1.jpg" alt=""/> 
            <div>
                <img src="/static/14.jpg" alt=""/>
            </div>`

str.match(/(?<==")[^"]+/g)  // ["/static/1.jpg", "/static/14.jpg"]


```
