# 高阶组件

React 组件设计模式。它的定义是：高阶组件是一个函数，接收一个 react 组件作为形参，返回一个新的组件。

``` js
const EnhancedComponent = higherOrderComponent(WrappedComponent);
```

通过 higherOrderComponent 函数返回的新组件 EnhancedComponent 就是个高阶组件。

给原组件的 props，就会先传给高阶组件。如果某个 prop 值不对，就不渲染原组件了，渲染新组件的其他 JSX，这个叫渲染劫持；或者高阶组件给原组件的 props 添加新的 newProps，增强原组件的功能。


## 高阶组件的作用

1. 复用组件逻辑，实现代码复用。把两个相似度较高组件的重复部分抽离出来，再通过高级组件扩展组件 props 形式，实现逻辑复用。
2. 条件渲染。因为高阶组件可以得到原本传递给下级组件的 props，根据挂载在 props 下的属性，控制渲染什么下级组件。鉴权等。

## 使用时的注意事项

1. 高阶组件是个纯函数，不能修改原组件。
2. props 保持一致。不要修改传递给原始组件的 props。
3. 高阶组件的命名要包括子组件的名字。
4. 不能在 render 方法内使用高阶组件。因为每次 render时高阶组件及其原组件会重新 mount，原本的 state 就会丢失。
5. 如果要在高阶组件外部使用原组件的静态方法，需要在创建高阶组件之时浅拷贝一份。
6. 
